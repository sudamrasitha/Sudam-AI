<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sudam AI Chat</title>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<style>
:root{
  --bg:#0f1724;
  --card:#0b1220;
  --accent:#7c3aed;
  --muted:#9aa4b2;
  --user:#1f6feb;
  --bot:#0ea5a5;
  --text:#e6eef6;
}
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
body{margin:0;background:linear-gradient(180deg,#071028 0%, #0f1724 100%);color:var(--text);display:flex;align-items:center;justify-content:center;height:100vh;padding:20px;overflow:hidden;}
video#bgVideo{position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-1;}
audio#bgAudio{position:fixed;top:0;left:0;width:0;height:0;visibility:hidden;}
.container{width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;box-shadow:0 0 15px #00f0ff, 0 0 30px rgba(0,240,255,0.5), 0 6px 30px rgba(2,6,23,0.7);overflow:hidden;display:flex;flex-direction:column;border:2px solid rgba(255,0,0,0.5);position:relative;}
.topic-bar {width: 100%;padding: 12px 20px;background: rgba(11,18,32,0.8);color: #fff;font-family:'Courier New', monospace;font-size:22px;text-align:center;border: 2px solid #FF0000;box-shadow: 0 0 10px #FF0000, 0 0 20px rgba(255,0,0,0.5);border-radius:8px;text-shadow: 0 0 5px #FF0000, 0 0 10px #FF4500;margin-bottom:12px;}
.chat-area{padding:20px;display:flex;flex-direction:column;gap:12px;min-height:420px;max-height:60vh;overflow:auto;background: radial-gradient(ellipse at top left, rgba(124,58,237,0.04), transparent 10%), radial-gradient(ellipse at bottom right, rgba(14,165,165,0.02), transparent 10%);border: 2px solid #0000ff;box-shadow: 0 0 12px #0000ff, 0 0 24px rgba(0,0,255,0.6), 0 0 10px #8B0000;border-radius:12px;position:relative;}
.bubble{max-width:82%;padding:12px 14px;border-radius:14px;line-height:1.5;white-space:pre-wrap;position:relative; cursor:pointer;}
.bubble.user{align-self:flex-end;background:linear-gradient(90deg,var(--user),#0b66d0);color:white;border-bottom-right-radius:6px;box-shadow: 0 0 6px #ffff00, 0 0 12px #ffff00, 0 0 20px rgba(255,255,0,0.5);}
.bubble.bot{align-self:flex-start;background:linear-gradient(90deg,#052f2f,var(--bot));color:white;border-bottom-left-radius:6px;box-shadow: 0 0 6px #00ff00, 0 0 12px #00ff00, 0 0 20px rgba(0,255,0,0.5);}
.meta{font-size:11px;color:var(--muted);margin-bottom:6px;}
.input-area{display:flex;padding:14px;border-top:1px solid rgba(255,255,255,0.03);gap:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);position:relative;}
textarea{flex:1;min-height:46px;max-height:120px;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background: rgba(15, 23, 36, 0.6);color:var(--text);resize:none;box-shadow: 0 0 8px #00f0ff, 0 0 16px rgba(0, 240, 255,0.6);transition: all 0.3s ease-in-out;}
textarea:focus {outline:none; box-shadow: 0 0 12px #00f0ff, 0 0 20px rgba(0,240,255,0.8);}
button.send{background:var(--accent);color:white;border:none;padding:0 18px;border-radius:10px;cursor:pointer;font-weight:600;border:1px solid #00f0ff;box-shadow:0 0 8px #00f0ff,0 0 16px rgba(0,240,255,0.6);transition: all 0.3s ease-in-out;position:relative;overflow:hidden;}
button.send:hover {box-shadow:0 0 12px #00f0ff,0 0 20px rgba(0,240,255,0.8); transform:scale(1.05);}
.emoji {position: absolute;font-size: 24px;pointer-events: none;animation: floatUp 2s linear forwards;opacity: 0;}
@keyframes floatUp {0% { transform: translateY(0) scale(1); opacity:1;}50% { transform: translateY(-50px) scale(1.2); opacity:1;}100% { transform: translateY(-200px) scale(1); opacity:0;}}
.copy-btn {position: absolute;right: 50px;top: 50%;transform: translateY(-50%);background: rgba(0,0,0,0.6);color: #00ff00;border: 1px solid #00ff00;padding: 4px 6px;font-size: 12px;border-radius: 4px;cursor: pointer;display: none;box-shadow: 0 0 8px #00ff00, 0 0 16px rgba(0,255,0,0.5);transition: all 0.3s ease-in-out;}
.delete-btn{position:absolute;top:4px;right:6px;background:none;border:none;color:#ff6b6b;font-size:14px;cursor:pointer;display:none;}
.typing-indicator {display: inline-block;font-size: 22px;margin-left: 5px;text-shadow: 0 0 8px #00ff00,0 0 16px #00ff00,0 0 24px #00ff00;animation: pulseAndFloat 1s infinite;position: relative;}
@keyframes pulseAndFloat {0%, 100% { opacity:0.2; transform: translateX(0) scale(0.8);}25% { opacity:1; transform: translateX(-3px) scale(1.1);}50% { opacity:1; transform: translateX(3px) scale(1.2);}75% { opacity:1; transform: translateX(-2px) scale(1.1);}}
</style>
</head>
<body>

<video id="bgVideo" autoplay muted loop src="https://files.catbox.moe/0n6d55.mp4"></video>
<audio id="bgAudio" autoplay loop>
  <source src="https://files.catbox.moe/40pqsm.m4a" type="audio/mpeg">
</audio>

<div class="container" role="main" aria-label="Sudam AI Chat">
  <div class="topic-bar">ùöÇùöÑùô≥ùô∞ùôº ùô∞ùô∏ ùô≤ùô∑ùô∞ùöÉ</div>
  <div id="chat" class="chat-area" aria-live="polite"></div>
  <div class="input-area">
    <textarea id="input" placeholder="Type your message... (press Enter to send)" aria-label="Message input"></textarea>
    <button id="sendBtn" class="send">Send</button>
  </div>
</div>

<script>
const chatEl = document.getElementById('chat');
const inputEl = document.getElementById('input');
const sendBtn = document.getElementById('sendBtn');

const creatorKeywords = ["who created you","who made you","#creator","#owner","#whoMadeYou","#developer","#programmer","#builtBy","#createdBy","#maker","#author","#AIorigin","#AIcreator","#techfounder","#softwareengineer","#AIengineer","#originStory","#codedBy","#techdeveloper","#innovator","#AIauthor","#founderStory","#designBy","#AIprogrammer","#techcreator","#softwarecreator","#AIbuilt","#developerStory","#techmaker","#AIinnovation","#buildBy","#AIengineered","#creatorStory","#madeBy"];

function appendBubble(text, who='bot') {
  const wrapper = document.createElement('div');
  wrapper.className = 'bubble ' + who;
  if(who==='bot'){
    const meta = document.createElement('div');
    meta.className='meta';
    meta.textContent='Sudam-AI';
    wrapper.appendChild(meta);
  }
  const content = document.createElement('div');
  content.textContent = text;
  wrapper.appendChild(content);

  const delBtn = document.createElement('button');
  delBtn.className='delete-btn';
  delBtn.innerHTML='‚úñ';
  delBtn.onclick=()=>wrapper.remove();
  wrapper.appendChild(delBtn);

  const copyBtn = document.createElement('button');
  copyBtn.className='copy-btn';
  copyBtn.textContent='Copy';
  copyBtn.onclick=()=>{navigator.clipboard.writeText(text);copyBtn.textContent='Copied!';setTimeout(()=>{copyBtn.style.display='none';copyBtn.textContent='Copy';},1000);}
  wrapper.appendChild(copyBtn);

  wrapper.addEventListener('click',()=>{
    delBtn.style.display='block';
    copyBtn.style.display='block';
    setTimeout(()=>{delBtn.style.display='none'; copyBtn.style.display='none';},3000);
  });

  chatEl.appendChild(wrapper);
  chatEl.scrollTop = chatEl.scrollHeight;
  return wrapper;
}

function animateTypingLoop(el){
  const hearts = ["ü©µ","ü§ç","ü©∂","üñ§","ü§é","üíú","üíô","üíõ","üß°","‚ù§Ô∏è‚Äçü©π","‚ù§Ô∏è‚Äçüî•","üíî","‚ù£Ô∏è","üíï","üíû","üíì","üíó","üíñ","üíù"];
  let i=0;
  const interval=setInterval(()=>{el.textContent=hearts[i]; i=(i+1)%hearts.length;},300);
  return interval;
}

async function SudamAi(text){
  const lowerText=text.toLowerCase();
  if(creatorKeywords.some(k=>lowerText.includes(k.toLowerCase()))){
    return "I am Created By Sudam Rasitha. A Sri Lankan ü§ó";
  }
  const payload={model:{id:"gpt-4",name:"GPT-4",maxLength:32000,tokenLimit:8000,completionTokenLimit:5000,deploymentName:"gpt-4"},messages:[{pluginId:null,content:text,role:"user"}],prompt:"‡∂î‡∂∫‡∑è‡∂ú‡∑ô ‡∂±‡∂∏ = ‡∂∏‡∂∏ SUDAM AI ‡∂ö‡∑ô‡∂±‡∑ô‡∂ö‡∑ä,‡∂ö‡∑ë‡∑Ä‡∂Ø ‡∂∂‡∂±‡∑ä = ‡∂∏‡∂∏ ‡∂ö‡∑ë‡∑Ä‡∑è ‡∂î‡∂∫‡∑è ‡∂ö‡∑ë‡∑Ä‡∂Ø?, ‡∂∂‡∑í‡∑Ä‡∑ä‡∑Ä ‡∂Ø ‡∂∂‡∂±‡∑ä = ‡∂∏‡∂∏ ‡∂∂‡∑í‡∑Ä‡∑ä‡∑Ä‡∑è ‡∂î‡∂∫‡∑è ‡∂∂‡∑í‡∑Ä‡∑ä‡∑Ä‡∂Ø?, ‡∂±‡∂∏ = SUDAM-AI",temperature:0.5};
  try{
    const response=await axios.post("https://YOUR_DEPLOYED_PROXY_URL/proxy",payload);
    const result=response.data;
    if(!result)return"[Empty response from server]";
    if(typeof result==='string')return result;
    if(result.output && typeof result.output==='string')return result.output;
    if(result.choices && Array.isArray(result.choices) && result.choices[0])return result.choices[0].message?.content || result.choices[0].text || JSON.stringify(result.choices);
    if(result.message || result.messages){const msg=result.message || (Array.isArray(result.messages)&&result.messages[0])||null; if(msg)return msg.content || msg.text || JSON.stringify(msg);}
    return JSON.stringify(result);
  }catch(err){console.error(err);return 'Error: '+(err.message||'unknown');}
}

function createEmoji(){
  const emojis=["üòÄ","üòé","ü•≥","üòÇ","üòç","ü§©","ü§ñ","üëæ","üí•","‚ú®","üåü","üî•","üí´","üéâ","üéä"];
  const btnRect=sendBtn.getBoundingClientRect();
  const emoji=document.createElement('div');
  emoji.className='emoji';
  emoji.textContent=emojis[Math.floor(Math.random()*emojis.length)];
  emoji.style.left=btnRect.left + btnRect.width/2 - 12 + 'px';
  emoji.style.top=btnRect.top - 20 + 'px';
  emoji.style.fontSize=(16 + Math.random()*24) + 'px';
  document.body.appendChild(emoji);
  setTimeout(()=>emoji.remove(),2500);
}

async function sendMessage(){
  const text=inputEl.value.trim();
  if(!text)return;
  createEmoji();
  appendBubble(text,'user');
  inputEl.value='';
  const typingWrapper=appendBubble('');
  const typingSpan=document.createElement('span');
  typingSpan.className='typing-indicator';
  typingWrapper.appendChild(typingSpan);
  const typingInterval=animateTypingLoop(typingSpan);
  try{
    const reply=await SudamAi(text);
    clearInterval(typingInterval);
    typingWrapper.textContent=reply;
    chatEl.scrollTop = chatEl.scrollHeight;
  }catch(e){
    clearInterval(typingInterval);
    typingWrapper.textContent='Error: '+(e.message||'unknown');
  }
}

sendBtn.addEventListener('click',sendMessage);
inputEl.addEventListener('keydown',e=>{if(e.key==='Enter' && !e.shiftKey){e.preventDefault(); sendMessage();}});

window.addEventListener('load',()=>{appendBubble('‡∑Ñ‡∑ô‡∂Ω‡∑ù! ‡∂∏‡∂∏ SUDAM-AI. ‡∂î‡∂∂‡∂ß ‡∂ö‡∑ô‡∑É‡∑ö ‡∂ã‡∂Ø‡∑Ä‡∑ä ‡∂ö‡∑Ö ‡∂∫‡∑î‡∂≠‡∑î‡∂Ø?','bot');});
</script>
</body>
</html>ö‡∑ô‡∑É‡∑ö ‡∂ã‡∂Ø‡∑Ä‡∑ä ‡∂ö‡∑Ö ‡∂∫‡∑î‡∂≠‡∑î‡∂Ø?','bot');});
</script>
</body>
</html>